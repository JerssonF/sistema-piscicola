<!DOCTYPE html>
<html>
<head>
    <title>Debug Informes</title>
</head>
<body>
    <h1>DEBUG INFORMES</h1>
    
    <h2>Variables pasadas al template:</h2>
    <p><strong>formulario_seleccionado:</strong> "{{ formulario_seleccionado }}"</p>
    <p><strong>Número de resultados:</strong> {{ resultados|length }}</p>
    
    <h2>Contenido de resultados:</h2>
    {% if resultados %}
        <ul>
        {% for registro in resultados %}
            <li>
                <strong>Registro {{ loop.index }}:</strong><br>
                {% for key, value in registro.items() %}
                    {{ key }}: {{ value }}<br>
                {% endfor %}
                <hr>
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p style="color: red;">NO HAY RESULTADOS</p>
    {% endif %}
    
    <h2>Prueba de condición:</h2>
    <p>formulario_seleccionado == 'alimento': {{ formulario_seleccionado == 'alimento' }}</p>
    
    <form method="POST" action="/formulario_informes">
        <label>Formulario:</label>
        <select name="formulario">
            <option value="alimento">Alimento</option>
        </select><br><br>
        
        <label>Fecha desde:</label>
        <input type="date" name="fecha_desde" value="2025-08-01"><br><br>
        
        <label>Fecha hasta:</label>
        <input type="date" name="fecha_hasta" value="2025-08-26"><br><br>
        
        <button type="submit">Buscar</button>
    </form>
</body>
</html>
